<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A2Z Gigabit TSN/FRER System Architecture Diagrams</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Samsung One', 'Noto Sans KR', -apple-system, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 40px 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 36px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
            font-size: 18px;
        }
        
        .diagram-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .diagram-title {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        .diagram-description {
            color: #7f8c8d;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .diagram-container {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 500px;
        }
        
        svg {
            max-width: 100%;
            height: auto;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
            gap: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #555;
        }
        
        .legend-color {
            width: 24px;
            height: 24px;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>A2Z Gigabit TSN/FRER System Architecture</h1>
        <p class="subtitle">Microchip LAN9692/LAN9662 기반 자율주행 차량 네트워크 설계</p>
        
        <!-- Diagram 1: Overall System Architecture -->
        <div class="diagram-section">
            <h2 class="diagram-title">1. Overall System Architecture</h2>
            <p class="diagram-description">
                A2Z 자율주행 차량의 전체 시스템 아키텍처를 보여줍니다. 중앙 LAN9692 스위치를 중심으로 
                Zone 기반 LAN9662 스위치들이 연결되어 있으며, 각 센서와 제어 유닛이 기가비트 네트워크로 
                통합되어 있습니다.
            </p>
            <div class="diagram-container">
                <svg width="1200" height="600" viewBox="0 0 1200 600">
                    <!-- Background grid -->
                    <defs>
                        <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                            <path d="M 50 0 L 0 0 0 50" fill="none" stroke="#e0e0e0" stroke-width="1"/>
                        </pattern>
                        
                        <!-- Gradient definitions -->
                        <linearGradient id="centralGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#3498db;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
                        </linearGradient>
                        
                        <linearGradient id="zoneGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#2ecc71;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#27ae60;stop-opacity:1" />
                        </linearGradient>
                        
                        <linearGradient id="sensorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#f39c12;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#e67e22;stop-opacity:1" />
                        </linearGradient>
                        
                        <linearGradient id="controlGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#e74c3c;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#c0392b;stop-opacity:1" />
                        </linearGradient>
                    </defs>
                    
                    <rect width="1200" height="600" fill="url(#grid)" />
                    
                    <!-- Central Switch (LAN9692) -->
                    <g id="central-switch">
                        <rect x="500" y="250" width="200" height="100" rx="10" fill="url(#centralGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="600" y="290" text-anchor="middle" fill="white" font-size="16" font-weight="bold">LAN9692</text>
                        <text x="600" y="310" text-anchor="middle" fill="white" font-size="12">Central Switch</text>
                        <text x="600" y="330" text-anchor="middle" fill="white" font-size="10">66Gbps / 30 Ports</text>
                    </g>
                    
                    <!-- Front Zone Switch (LAN9662) -->
                    <g id="front-zone">
                        <rect x="200" y="100" width="160" height="80" rx="8" fill="url(#zoneGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="280" y="130" text-anchor="middle" fill="white" font-size="14" font-weight="bold">LAN9662</text>
                        <text x="280" y="148" text-anchor="middle" fill="white" font-size="11">Front Zone</text>
                        <text x="280" y="165" text-anchor="middle" fill="white" font-size="9">8 Ports / 8Gbps</text>
                    </g>
                    
                    <!-- Rear Zone Switch (LAN9662) -->
                    <g id="rear-zone">
                        <rect x="840" y="100" width="160" height="80" rx="8" fill="url(#zoneGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="920" y="130" text-anchor="middle" fill="white" font-size="14" font-weight="bold">LAN9662</text>
                        <text x="920" y="148" text-anchor="middle" fill="white" font-size="11">Rear Zone</text>
                        <text x="920" y="165" text-anchor="middle" fill="white" font-size="9">8 Ports / 8Gbps</text>
                    </g>
                    
                    <!-- Front Sensors -->
                    <g id="front-sensors">
                        <!-- LiDAR Front -->
                        <circle cx="150" cy="40" r="30" fill="url(#sensorGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="150" y="45" text-anchor="middle" fill="white" font-size="11" font-weight="bold">LiDAR</text>
                        
                        <!-- Camera Array -->
                        <circle cx="280" cy="40" r="30" fill="url(#sensorGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="280" y="45" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Camera</text>
                        
                        <!-- Radar -->
                        <circle cx="410" cy="40" r="30" fill="url(#sensorGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="410" y="45" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Radar</text>
                    </g>
                    
                    <!-- Rear Sensors -->
                    <g id="rear-sensors">
                        <!-- LiDAR Rear -->
                        <circle cx="850" cy="40" r="30" fill="url(#sensorGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="850" y="45" text-anchor="middle" fill="white" font-size="11" font-weight="bold">LiDAR</text>
                        
                        <!-- Camera Rear -->
                        <circle cx="970" cy="40" r="30" fill="url(#sensorGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="970" y="45" text-anchor="middle" fill="white" font-size="11" font-weight="bold">Camera</text>
                    </g>
                    
                    <!-- Control Units -->
                    <g id="control-units">
                        <!-- Main ECU -->
                        <rect x="350" y="450" width="120" height="60" rx="6" fill="url(#controlGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="410" y="475" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Main ECU</text>
                        <text x="410" y="495" text-anchor="middle" fill="white" font-size="9">100 TOPS</text>
                        
                        <!-- Safety ECU -->
                        <rect x="490" y="450" width="120" height="60" rx="6" fill="url(#controlGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="550" y="475" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Safety ECU</text>
                        <text x="550" y="495" text-anchor="middle" fill="white" font-size="9">ASIL-D</text>
                        
                        <!-- Brake Controller -->
                        <rect x="630" y="450" width="120" height="60" rx="6" fill="url(#controlGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="690" y="475" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Brake</text>
                        <text x="690" y="495" text-anchor="middle" fill="white" font-size="9">1ms latency</text>
                        
                        <!-- Steering Controller -->
                        <rect x="770" y="450" width="120" height="60" rx="6" fill="url(#controlGrad)" stroke="#2c3e50" stroke-width="2"/>
                        <text x="830" y="475" text-anchor="middle" fill="white" font-size="12" font-weight="bold">Steering</text>
                        <text x="830" y="495" text-anchor="middle" fill="white" font-size="9">10 Mbps</text>
                    </g>
                    
                    <!-- Connections -->
                    <!-- Primary backbone (solid lines) -->
                    <line x1="360" y1="140" x2="500" y2="280" stroke="#3498db" stroke-width="3"/>
                    <line x1="840" y1="140" x2="700" y2="280" stroke="#3498db" stroke-width="3"/>
                    
                    <!-- Backup backbone (dashed lines) -->
                    <line x1="360" y1="160" x2="500" y2="300" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
                    <line x1="840" y1="160" x2="700" y2="300" stroke="#95a5a6" stroke-width="2" stroke-dasharray="5,5"/>
                    
                    <!-- Sensor connections -->
                    <line x1="150" y1="70" x2="240" y2="100" stroke="#f39c12" stroke-width="2"/>
                    <line x1="280" y1="70" x2="280" y2="100" stroke="#f39c12" stroke-width="2"/>
                    <line x1="410" y1="70" x2="320" y2="100" stroke="#f39c12" stroke-width="2"/>
                    
                    <line x1="850" y1="70" x2="880" y2="100" stroke="#f39c12" stroke-width="2"/>
                    <line x1="970" y1="70" x2="960" y2="100" stroke="#f39c12" stroke-width="2"/>
                    
                    <!-- Control unit connections -->
                    <line x1="410" y1="450" x2="550" y2="350" stroke="#e74c3c" stroke-width="2"/>
                    <line x1="550" y1="450" x2="600" y2="350" stroke="#e74c3c" stroke-width="2"/>
                    <line x1="690" y1="450" x2="650" y2="350" stroke="#e74c3c" stroke-width="2"/>
                    <line x1="830" y1="450" x2="680" y2="350" stroke="#e74c3c" stroke-width="2"/>
                    
                    <!-- Bandwidth labels -->
                    <text x="430" y="210" font-size="10" fill="#3498db">1 Gbps</text>
                    <text x="770" y="210" font-size="10" fill="#3498db">1 Gbps</text>
                    
                    <!-- Data flow indicators -->
                    <circle cx="430" cy="210" r="3" fill="#3498db">
                        <animate attributeName="r" values="3;6;3" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
                    </circle>
                    
                    <circle cx="770" cy="210" r="3" fill="#3498db">
                        <animate attributeName="r" values="3;6;3" dur="2s" repeatCount="indefinite"/>
                        <animate attributeName="opacity" values="1;0.3;1" dur="2s" repeatCount="indefinite"/>
                    </circle>
                </svg>
            </div>
            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #3498db, #2980b9);"></div>
                    <span>Central Switch (LAN9692)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #2ecc71, #27ae60);"></div>
                    <span>Zone Switch (LAN9662)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #f39c12, #e67e22);"></div>
                    <span>Sensors</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color" style="background: linear-gradient(135deg, #e74c3c, #c0392b);"></div>
                    <span>Control Units</span>
                </div>
            </div>
        </div>
        
        <!-- Diagram 2: FRER Path Redundancy -->
        <div class="diagram-section">
            <h2 class="diagram-title">2. FRER Path Redundancy Architecture</h2>
            <p class="diagram-description">
                IEEE 802.1CB FRER (Frame Replication and Elimination for Reliability) 구조를 보여줍니다.
                각 중요 스트림은 2-3개의 중복 경로를 통해 전송되며, R-TAG를 사용하여 중복 프레임을 제거합니다.
            </p>
            <div class="diagram-container">
                <svg width="1200" height="500" viewBox="0 0 1200 500">
                    <!-- Title -->
                    <text x="600" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#2c3e50">
                        FRER Multi-Path Redundancy
                    </text>
                    
                    <!-- Stream 1001: LiDAR (2-path) -->
                    <g id="stream-1001">
                        <text x="100" y="100" font-size="14" font-weight="bold" fill="#2c3e50">Stream 1001: LiDAR (100 Mbps)</text>
                        
                        <!-- Source -->
                        <rect x="50" y="120" width="100" height="50" rx="5" fill="#f39c12" stroke="#2c3e50" stroke-width="2"/>
                        <text x="100" y="150" text-anchor="middle" fill="white" font-size="12">LiDAR</text>
                        
                        <!-- Path 1 (Primary) -->
                        <path d="M 150 145 Q 300 120 450 145" stroke="#2ecc71" stroke-width="3" fill="none"/>
                        <text x="300" y="115" font-size="10" fill="#2ecc71">Primary Path</text>
                        
                        <!-- Path 2 (Backup) -->
                        <path d="M 150 145 Q 300 170 450 145" stroke="#3498db" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                        <text x="300" y="180" font-size="10" fill="#3498db">Backup Path</text>
                        
                        <!-- FRER Processing -->
                        <rect x="450" y="120" width="120" height="50" rx="5" fill="#9b59b6" stroke="#2c3e50" stroke-width="2"/>
                        <text x="510" y="140" text-anchor="middle" fill="white" font-size="11">FRER</text>
                        <text x="510" y="155" text-anchor="middle" fill="white" font-size="9">Elimination</text>
                        
                        <!-- Destination -->
                        <rect x="620" y="120" width="100" height="50" rx="5" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
                        <text x="670" y="150" text-anchor="middle" fill="white" font-size="12">Main ECU</text>
                        
                        <!-- Arrow -->
                        <path d="M 570 145 L 620 145" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    </g>
                    
                    <!-- Stream 1003: Emergency Brake (3-path) -->
                    <g id="stream-1003" transform="translate(0, 150)">
                        <text x="100" y="100" font-size="14" font-weight="bold" fill="#2c3e50">Stream 1003: Emergency Brake (1 Mbps)</text>
                        
                        <!-- Source -->
                        <rect x="50" y="120" width="100" height="50" rx="5" fill="#e74c3c" stroke="#2c3e50" stroke-width="2"/>
                        <text x="100" y="150" text-anchor="middle" fill="white" font-size="12">E-Brake</text>
                        
                        <!-- Path 1 (Primary) -->
                        <path d="M 150 145 Q 300 110 450 145" stroke="#2ecc71" stroke-width="3" fill="none"/>
                        
                        <!-- Path 2 (Backup 1) -->
                        <path d="M 150 145 Q 300 145 450 145" stroke="#3498db" stroke-width="2" fill="none" stroke-dasharray="5,5"/>
                        
                        <!-- Path 3 (Backup 2) -->
                        <path d="M 150 145 Q 300 180 450 145" stroke="#f39c12" stroke-width="2" fill="none" stroke-dasharray="3,3"/>
                        <text x="300" y="195" font-size="10" fill="#f39c12">Triple Redundancy</text>
                        
                        <!-- FRER Processing -->
                        <rect x="450" y="120" width="120" height="50" rx="5" fill="#9b59b6" stroke="#2c3e50" stroke-width="2"/>
                        <text x="510" y="140" text-anchor="middle" fill="white" font-size="11">FRER</text>
                        <text x="510" y="155" text-anchor="middle" fill="white" font-size="9">3-Path</text>
                        
                        <!-- Destination -->
                        <rect x="620" y="120" width="100" height="50" rx="5" fill="#c0392b" stroke="#2c3e50" stroke-width="2"/>
                        <text x="670" y="150" text-anchor="middle" fill="white" font-size="12">Safety ECU</text>
                        
                        <!-- Arrow -->
                        <path d="M 570 145 L 620 145" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrowhead)"/>
                    </g>
                    
                    <!-- R-TAG Sequence Diagram -->
                    <g id="rtag-diagram" transform="translate(800, 50)">
                        <text x="150" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#2c3e50">R-TAG Structure</text>
                        
                        <rect x="50" y="40" width="200" height="40" fill="#ecf0f1" stroke="#2c3e50" stroke-width="1"/>
                        <rect x="50" y="40" width="50" height="40" fill="#3498db" stroke="#2c3e50" stroke-width="1"/>
                        <rect x="100" y="40" width="70" height="40" fill="#2ecc71" stroke="#2c3e50" stroke-width="1"/>
                        <rect x="170" y="40" width="40" height="40" fill="#f39c12" stroke="#2c3e50" stroke-width="1"/>
                        <rect x="210" y="40" width="40" height="40" fill="#e74c3c" stroke="#2c3e50" stroke-width="1"/>
                        
                        <text x="75" y="65" text-anchor="middle" fill="white" font-size="10">Path ID</text>
                        <text x="135" y="65" text-anchor="middle" fill="white" font-size="10">Sequence</text>
                        <text x="190" y="65" text-anchor="middle" fill="white" font-size="10">CRC</text>
                        <text x="230" y="65" text-anchor="middle" fill="white" font-size="10">Type</text>
                        
                        <!-- Bit positions -->
                        <text x="75" y="95" text-anchor="middle" font-size="8" fill="#7f8c8d">4 bits</text>
                        <text x="135" y="95" text-anchor="middle" font-size="8" fill="#7f8c8d">16 bits</text>
                        <text x="190" y="95" text-anchor="middle" font-size="8" fill="#7f8c8d">8 bits</text>
                        <text x="230" y="95" text-anchor="middle" font-size="8" fill="#7f8c8d">4 bits</text>
                    </g>
                    
                    <!-- Recovery Time Chart -->
                    <g id="recovery-chart" transform="translate(800, 200)">
                        <text x="150" y="20" text-anchor="middle" font-size="14" font-weight="bold" fill="#2c3e50">Recovery Time</text>
                        
                        <rect x="50" y="40" width="200" height="150" fill="none" stroke="#2c3e50" stroke-width="1"/>
                        
                        <!-- Y-axis -->
                        <line x1="50" y1="40" x2="50" y2="190" stroke="#2c3e50" stroke-width="1"/>
                        <text x="30" y="45" font-size="8" fill="#7f8c8d">50ms</text>
                        <text x="30" y="95" font-size="8" fill="#7f8c8d">25ms</text>
                        <text x="30" y="145" font-size="8" fill="#7f8c8d">12ms</text>
                        <text x="30" y="195" font-size="8" fill="#7f8c8d">0ms</text>
                        
                        <!-- Bars -->
                        <rect x="70" y="140" width="30" height="50" fill="#2ecc71"/>
                        <text x="85" y="135" text-anchor="middle" font-size="9" fill="#2c3e50">1001</text>
                        
                        <rect x="110" y="135" width="30" height="55" fill="#3498db"/>
                        <text x="125" y="130" text-anchor="middle" font-size="9" fill="#2c3e50">1002</text>
                        
                        <rect x="150" y="155" width="30" height="35" fill="#f39c12"/>
                        <text x="165" y="150" text-anchor="middle" font-size="9" fill="#2c3e50">1003</text>
                        
                        <rect x="190" y="150" width="30" height="40" fill="#e74c3c"/>
                        <text x="205" y="145" text-anchor="middle" font-size="9" fill="#2c3e50">1004</text>
                        
                        <!-- Target line -->
                        <line x1="50" y1="90" x2="250" y2="90" stroke="#c0392b" stroke-width="1" stroke-dasharray="3,3"/>
                        <text x="255" y="93" font-size="8" fill="#c0392b">Target</text>
                    </g>
                    
                    <!-- Arrow marker -->
                    <defs>
                        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
                            <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>
        
        <!-- Diagram 3: QoS and Traffic Shaping -->
        <div class="diagram-section">
            <h2 class="diagram-title">3. QoS and Traffic Shaping Architecture</h2>
            <p class="diagram-description">
                기가비트 네트워크에서의 QoS (Quality of Service) 구성과 트래픽 쉐이핑을 보여줍니다.
                중요 트래픽의 우선순위와 대역폭 할당을 시각화합니다.
            </p>
            <div class="diagram-container">
                <svg width="1200" height="500" viewBox="0 0 1200 500">
                    <!-- Title -->
                    <text x="600" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#2c3e50">
                        Gigabit Bandwidth Allocation & QoS
                    </text>
                    
                    <!-- Total Bandwidth Bar -->
                    <g id="bandwidth-bar">
                        <rect x="100" y="70" width="1000" height="60" fill="#ecf0f1" stroke="#2c3e50" stroke-width="2"/>
                        
                        <!-- Safety Critical: 60% (600 Mbps) -->
                        <rect x="100" y="70" width="600" height="60" fill="#e74c3c"/>
                        <text x="400" y="105" text-anchor="middle" fill="white" font-size="14" font-weight="bold">
                            Safety Critical (600 Mbps - 60%)
                        </text>
                        
                        <!-- Vehicle Control: 25% (250 Mbps) -->
                        <rect x="700" y="70" width="250" height="60" fill="#f39c12"/>
                        <text x="825" y="105" text-anchor="middle" fill="white" font-size="12" font-weight="bold">
                            Control (250 Mbps)
                        </text>
                        
                        <!-- Diagnostics: 10% (100 Mbps) -->
                        <rect x="950" y="70" width="100" height="60" fill="#3498db"/>
                        <text x="1000" y="105" text-anchor="middle" fill="white" font-size="10">
                            Diag (100M)
                        </text>
                        
                        <!-- Reserve: 5% (50 Mbps) -->
                        <rect x="1050" y="70" width="50" height="60" fill="#95a5a6"/>
                        <text x="1075" y="105" text-anchor="middle" fill="white" font-size="8">
                            Res
                        </text>
                    </g>
                    
                    <!-- Traffic Classes -->
                    <g id="traffic-classes" transform="translate(100, 180)">
                        <text x="0" y="0" font-size="16" font-weight="bold" fill="#2c3e50">Traffic Classes (IEEE 802.1Q)</text>
                        
                        <!-- Class 7: Network Control -->
                        <rect x="0" y="20" width="200" height="40" rx="5" fill="#8e44ad" stroke="#2c3e50" stroke-width="1"/>
                        <text x="10" y="45" fill="white" font-size="12">Class 7: Network Control</text>
                        <text x="210" y="45" font-size="11" fill="#7f8c8d">gPTP, LLDP</text>
                        
                        <!-- Class 6: Emergency -->
                        <rect x="0" y="70" width="200" height="40" rx="5" fill="#e74c3c" stroke="#2c3e50" stroke-width="1"/>
                        <text x="10" y="95" fill="white" font-size="12">Class 6: Emergency</text>
                        <text x="210" y="95" font-size="11" fill="#7f8c8d">Brake, Safety</text>
                        
                        <!-- Class 5: Critical -->
                        <rect x="0" y="120" width="200" height="40" rx="5" fill="#e67e22" stroke="#2c3e50" stroke-width="1"/>
                        <text x="10" y="145" fill="white" font-size="12">Class 5: Critical</text>
                        <text x="210" y="145" font-size="11" fill="#7f8c8d">LiDAR, Camera</text>
                        
                        <!-- Class 4: Vehicle Control -->
                        <rect x="0" y="170" width="200" height="40" rx="5" fill="#f39c12" stroke="#2c3e50" stroke-width="1"/>
                        <text x="10" y="195" fill="white" font-size="12">Class 4: Vehicle Control</text>
                        <text x="210" y="195" font-size="11" fill="#7f8c8d">Steering, Throttle</text>
                        
                        <!-- Class 3-0: Best Effort -->
                        <rect x="0" y="220" width="200" height="40" rx="5" fill="#3498db" stroke="#2c3e50" stroke-width="1"/>
                        <text x="10" y="245" fill="white" font-size="12">Class 0-3: Best Effort</text>
                        <text x="210" y="245" font-size="11" fill="#7f8c8d">Diagnostics, Logs</text>
                    </g>
                    
                    <!-- CBS Configuration -->
                    <g id="cbs-config" transform="translate(600, 180)">
                        <text x="0" y="0" font-size="16" font-weight="bold" fill="#2c3e50">CBS (Credit Based Shaper)</text>
                        
                        <rect x="0" y="20" width="400" height="200" fill="none" stroke="#2c3e50" stroke-width="1"/>
                        
                        <!-- Stream A -->
                        <rect x="20" y="40" width="150" height="30" fill="#e74c3c" opacity="0.7"/>
                        <text x="95" y="60" text-anchor="middle" fill="white" font-size="11">Stream A (Critical)</text>
                        
                        <!-- Stream B -->
                        <rect x="20" y="80" width="120" height="30" fill="#f39c12" opacity="0.7"/>
                        <text x="80" y="100" text-anchor="middle" fill="white" font-size="11">Stream B (Control)</text>
                        
                        <!-- Credit curve -->
                        <path d="M 200 40 Q 250 60 300 40 Q 350 60 380 40" 
                              stroke="#2ecc71" stroke-width="2" fill="none"/>
                        <text x="290" y="30" text-anchor="middle" font-size="10" fill="#2ecc71">Credit Rate</text>
                        
                        <!-- Idle slope -->
                        <line x1="200" y1="120" x2="380" y2="80" stroke="#3498db" stroke-width="1" stroke-dasharray="3,3"/>
                        <text x="290" y="110" text-anchor="middle" font-size="10" fill="#3498db">Idle Slope</text>
                        
                        <!-- Send slope -->
                        <line x1="200" y1="180" x2="380" y2="140" stroke="#e74c3c" stroke-width="1" stroke-dasharray="3,3"/>
                        <text x="290" y="170" text-anchor="middle" font-size="10" fill="#e74c3c">Send Slope</text>
                    </g>
                    
                    <!-- Latency Comparison -->
                    <g id="latency-chart" transform="translate(100, 380)">
                        <text x="200" y="0" text-anchor="middle" font-size="14" font-weight="bold" fill="#2c3e50">
                            End-to-End Latency by Priority
                        </text>
                        
                        <!-- X-axis -->
                        <line x1="0" y1="80" x2="400" y2="80" stroke="#2c3e50" stroke-width="1"/>
                        
                        <!-- Emergency: 0.3ms -->
                        <rect x="50" y="60" width="40" height="20" fill="#e74c3c"/>
                        <text x="70" y="55" text-anchor="middle" font-size="9">0.3ms</text>
                        
                        <!-- Critical: 0.8ms -->
                        <rect x="130" y="40" width="40" height="40" fill="#f39c12"/>
                        <text x="150" y="35" text-anchor="middle" font-size="9">0.8ms</text>
                        
                        <!-- Control: 1.2ms -->
                        <rect x="210" y="20" width="40" height="60" fill="#3498db"/>
                        <text x="230" y="15" text-anchor="middle" font-size="9">1.2ms</text>
                        
                        <!-- Best Effort: 5ms -->
                        <rect x="290" y="-20" width="40" height="100" fill="#95a5a6"/>
                        <text x="310" y="-25" text-anchor="middle" font-size="9">5ms</text>
                        
                        <!-- Labels -->
                        <text x="70" y="95" text-anchor="middle" font-size="8">Emergency</text>
                        <text x="150" y="95" text-anchor="middle" font-size="8">Critical</text>
                        <text x="230" y="95" text-anchor="middle" font-size="8">Control</text>
                        <text x="310" y="95" text-anchor="middle" font-size="8">Best Effort</text>
                    </g>
                </svg>
            </div>
        </div>
        
        <!-- Diagram 4: Time Synchronization (gPTP) -->
        <div class="diagram-section">
            <h2 class="diagram-title">4. Time Synchronization Architecture (IEEE 802.1AS)</h2>
            <p class="diagram-description">
                gPTP (generalized Precision Time Protocol)를 사용한 네트워크 전체의 시간 동기화 구조를 보여줍니다.
                나노초 단위의 정밀한 시간 동기화로 TSN 기능을 지원합니다.
            </p>
            <div class="diagram-container">
                <svg width="1200" height="400" viewBox="0 0 1200 400">
                    <!-- Title -->
                    <text x="600" y="30" text-anchor="middle" font-size="18" font-weight="bold" fill="#2c3e50">
                        gPTP Time Synchronization Hierarchy
                    </text>
                    
                    <!-- Grandmaster Clock -->
                    <g id="grandmaster">
                        <rect x="500" y="60" width="200" height="60" rx="10" fill="#8e44ad" stroke="#2c3e50" stroke-width="2"/>
                        <text x="600" y="85" text-anchor="middle" fill="white" font-size="14" font-weight="bold">Grandmaster Clock</text>
                        <text x="600" y="105" text-anchor="middle" fill="white" font-size="11">GPS/GNSS Sync</text>
                        
                        <!-- Clock symbol -->
                        <circle cx="550" cy="90" r="15" fill="none" stroke="white" stroke-width="2"/>
                        <line x1="550" y1="90" x2="550" y2="80" stroke="white" stroke-width="2"/>
                        <line x1="550" y1="90" x2="557" y2="95" stroke="white" stroke-width="2"/>
                    </g>
                    
                    <!-- Central Switch (Boundary Clock) -->
                    <g id="boundary-clock">
                        <rect x="500" y="160" width="200" height="50" rx="8" fill="#3498db" stroke="#2c3e50" stroke-width="2"/>
                        <text x="600" y="180" text-anchor="middle" fill="white" font-size="12" font-weight="bold">LAN9692 Central</text>
                        <text x="600" y="197" text-anchor="middle" fill="white" font-size="10">Boundary Clock</text>
                    </g>
                    
                    <!-- Zone Switches (Boundary Clocks) -->
                    <g id="zone-clocks">
                        <!-- Front Zone -->
                        <rect x="250" y="250" width="150" height="45" rx="6" fill="#2ecc71" stroke="#2c3e50" stroke-width="2"/>
                        <text x="325" y="268" text-anchor="middle" fill="white" font-size="11">LAN9662 Front</text>
                        <text x="325" y="283" text-anchor="middle" fill="white" font-size="9">Boundary Clock</text>
                        
                        <!-- Rear Zone -->
                        <rect x="800" y="250" width="150" height="45" rx="6" fill="#2ecc71" stroke="#2c3e50" stroke-width="2"/>
                        <text x="875" y="268" text-anchor="middle" fill="white" font-size="11">LAN9662 Rear</text>
                        <text x="875" y="283" text-anchor="middle" fill="white" font-size="9">Boundary Clock</text>
                    </g>
                    
                    <!-- End Devices (Ordinary Clocks) -->
                    <g id="ordinary-clocks">
                        <!-- Sensors -->
                        <circle cx="200" cy="350" r="25" fill="#f39c12" stroke="#2c3e50" stroke-width="1"/>
                        <text x="200" y="355" text-anchor="middle" fill="white" font-size="10">LiDAR</text>
                        
                        <circle cx="300" cy="350" r="25" fill="#f39c12" stroke="#2c3e50" stroke-width="1"/>
                        <text x="300" y="355" text-anchor="middle" fill="white" font-size="10">Camera</text>
                        
                        <circle cx="400" cy="350" r="25" fill="#f39c12" stroke="#2c3e50" stroke-width="1"/>
                        <text x="400" y="355" text-anchor="middle" fill="white" font-size="10">Radar</text>
                        
                        <!-- Control Units -->
                        <circle cx="750" cy="350" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="1"/>
                        <text x="750" y="355" text-anchor="middle" fill="white" font-size="10">ECU</text>
                        
                        <circle cx="850" cy="350" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="1"/>
                        <text x="850" y="355" text-anchor="middle" fill="white" font-size="10">Brake</text>
                        
                        <circle cx="950" cy="350" r="25" fill="#e74c3c" stroke="#2c3e50" stroke-width="1"/>
                        <text x="950" y="355" text-anchor="middle" fill="white" font-size="10">Steer</text>
                    </g>
                    
                    <!-- Sync Messages -->
                    <g id="sync-messages">
                        <!-- Grandmaster to Central -->
                        <line x1="600" y1="120" x2="600" y2="160" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow)"/>
                        <text x="620" y="140" font-size="9" fill="#8e44ad">Sync</text>
                        
                        <!-- Central to Zones -->
                        <line x1="550" y1="210" x2="400" y2="250" stroke="#3498db" stroke-width="2" marker-end="url(#arrow)"/>
                        <line x1="650" y1="210" x2="800" y2="250" stroke="#3498db" stroke-width="2" marker-end="url(#arrow)"/>
                        
                        <!-- Zones to End Devices -->
                        <line x1="300" y1="295" x2="200" y2="325" stroke="#2ecc71" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="325" y1="295" x2="300" y2="325" stroke="#2ecc71" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="350" y1="295" x2="400" y2="325" stroke="#2ecc71" stroke-width="1" marker-end="url(#arrow)"/>
                        
                        <line x1="850" y1="295" x2="750" y2="325" stroke="#2ecc71" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="875" y1="295" x2="850" y2="325" stroke="#2ecc71" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="900" y1="295" x2="950" y2="325" stroke="#2ecc71" stroke-width="1" marker-end="url(#arrow)"/>
                    </g>
                    
                    <!-- Timing Info -->
                    <g id="timing-info" transform="translate(50, 150)">
                        <rect x="0" y="0" width="150" height="120" fill="#ecf0f1" stroke="#2c3e50" stroke-width="1" rx="5"/>
                        <text x="75" y="20" text-anchor="middle" font-size="11" font-weight="bold" fill="#2c3e50">Sync Accuracy</text>
                        
                        <text x="10" y="40" font-size="9" fill="#2c3e50">Master-Slave:</text>
                        <text x="100" y="40" font-size="9" fill="#27ae60" font-weight="bold">&lt; 50ns</text>
                        
                        <text x="10" y="60" font-size="9" fill="#2c3e50">End-to-End:</text>
                        <text x="100" y="60" font-size="9" fill="#f39c12" font-weight="bold">&lt; 1μs</text>
                        
                        <text x="10" y="80" font-size="9" fill="#2c3e50">Sync Interval:</text>
                        <text x="100" y="80" font-size="9" fill="#3498db" font-weight="bold">125ms</text>
                        
                        <text x="10" y="100" font-size="9" fill="#2c3e50">Domain:</text>
                        <text x="100" y="100" font-size="9" fill="#8e44ad" font-weight="bold">0</text>
                    </g>
                    
                    <!-- Message Types -->
                    <g id="message-types" transform="translate(1000, 150)">
                        <rect x="0" y="0" width="150" height="120" fill="#ecf0f1" stroke="#2c3e50" stroke-width="1" rx="5"/>
                        <text x="75" y="20" text-anchor="middle" font-size="11" font-weight="bold" fill="#2c3e50">Message Types</text>
                        
                        <circle cx="15" cy="40" r="3" fill="#8e44ad"/>
                        <text x="25" y="43" font-size="9" fill="#2c3e50">Sync</text>
                        
                        <circle cx="15" cy="60" r="3" fill="#3498db"/>
                        <text x="25" y="63" font-size="9" fill="#2c3e50">Follow_Up</text>
                        
                        <circle cx="15" cy="80" r="3" fill="#2ecc71"/>
                        <text x="25" y="83" font-size="9" fill="#2c3e50">Pdelay_Req</text>
                        
                        <circle cx="15" cy="100" r="3" fill="#f39c12"/>
                        <text x="25" y="103" font-size="9" fill="#2c3e50">Pdelay_Resp</text>
                    </g>
                    
                    <!-- Arrow marker -->
                    <defs>
                        <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
                            <polygon points="0 0, 8 3, 0 6" fill="#2c3e50"/>
                        </marker>
                    </defs>
                </svg>
            </div>
        </div>
    </div>
</body>
</html>